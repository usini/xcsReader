<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XCS Reader - Lecteur de fichiers xTool</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-top">
                <div class="lang-selector">
                    <span class="lang-icon">ğŸŒ</span>
                    <select id="langSelect" onchange="setLanguage(this.value)">
                        <option value="fr">FranÃ§ais</option>
                        <option value="en">English</option>
                    </select>
                </div>
            </div>
            <h1 data-i18n="appTitle">ğŸ”§ XCS Reader</h1>
            <p class="subtitle" data-i18n="appSubtitle">Lecteur de fichiers xTool Creative Space</p>
        </header>

        <section class="upload-section">
            <div class="drop-zone" id="dropZone">
                <div class="drop-zone-content">
                    <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                        <polyline points="17,8 12,3 7,8"></polyline>
                        <line x1="12" y1="3" x2="12" y2="15"></line>
                    </svg>
                    <p data-i18n="dropzoneText">Glissez-dÃ©posez un fichier <strong>.xcs</strong> ici</p>
                    <p class="or" data-i18n="dropzoneOr">ou</p>
                    <label class="file-input-label">
                        <input type="file" id="fileInput" accept=".xcs" hidden>
                        <span data-i18n="browseFiles">Parcourir les fichiers</span>
                    </label>
                </div>
            </div>
        </section>

        <section class="tabs-section" id="tabsSection" style="display: none;">
            <!-- Navigation des onglets -->
            <nav class="tabs-nav">
                <button class="tab-btn active" data-tab="general">
                    <span class="tab-icon">ğŸ“‹</span>
                    <span class="tab-label" data-i18n="tabGeneral">GÃ©nÃ©ral</span>
                </button>
                <button class="tab-btn" data-tab="device">
                    <span class="tab-icon">ğŸ–¨ï¸</span>
                    <span class="tab-label" data-i18n="tabDevice">Appareil</span>
                </button>
                <button class="tab-btn" data-tab="cover">
                    <span class="tab-icon">ğŸ–¼ï¸</span>
                    <span class="tab-label" data-i18n="tabCover">AperÃ§u</span>
                </button>
                <button class="tab-btn" data-tab="canvas">
                    <span class="tab-icon">ğŸ¨</span>
                    <span class="tab-label" data-i18n="tabCanvas">Canvas</span>
                </button>
                <button class="tab-btn" data-tab="layers">
                    <span class="tab-icon">ğŸ“š</span>
                    <span class="tab-label" data-i18n="tabLayers">Calques</span>
                </button>
                <button class="tab-btn" data-tab="process">
                    <span class="tab-icon">âš™ï¸</span>
                    <span class="tab-label" data-i18n="tabProcess">Traitement</span>
                </button>
                <button class="tab-btn" data-tab="elements">
                    <span class="tab-icon">ğŸ”²</span>
                    <span class="tab-label" data-i18n="tabElements">Ã‰lÃ©ments</span>
                </button>
                <button class="tab-btn" data-tab="distances">
                    <span class="tab-icon">ğŸ“</span>
                    <span class="tab-label" data-i18n="tabDistances">Distances</span>
                </button>
                <button class="tab-btn" data-tab="json">
                    <span class="tab-icon">ğŸ“„</span>
                    <span class="tab-label" data-i18n="tabJson">JSON</span>
                </button>
            </nav>

            <!-- Contenu des onglets -->
            <div class="tabs-content">
                <!-- Onglet: Informations gÃ©nÃ©rales -->
                <div class="tab-pane active" id="tab-general">
                    <div class="card">
                        <h2 data-i18n="titleGeneral">ğŸ“‹ Informations gÃ©nÃ©rales</h2>
                        <div class="info-grid" id="generalInfo"></div>
                    </div>
                </div>

                <!-- Onglet: Appareil -->
                <div class="tab-pane" id="tab-device">
                    <div class="card">
                        <h2 data-i18n="titleDevice">ğŸ–¨ï¸ Appareil</h2>
                        <div class="info-grid" id="deviceInfo"></div>
                    </div>
                </div>

                <!-- Onglet: AperÃ§u / Couverture -->
                <div class="tab-pane" id="tab-cover">
                    <div class="card">
                        <h2 data-i18n="titleCover">ğŸ–¼ï¸ AperÃ§u du projet</h2>
                        <div class="cover-container" id="coverContainer">
                            <p class="no-data" data-i18n="noPreviewAvailable">Aucun aperÃ§u disponible</p>
                        </div>
                    </div>
                </div>

                <!-- Onglet: Canvas -->
                <div class="tab-pane" id="tab-canvas">
                    <div class="card">
                        <h2 data-i18n="titleCanvas">ğŸ¨ Canvas</h2>
                        <div id="canvasContainer"></div>
                    </div>
                </div>

                <!-- Onglet: Calques -->
                <div class="tab-pane" id="tab-layers">
                    <div class="card">
                        <h2 data-i18n="titleLayers">ğŸ“š Calques (Layers)</h2>
                        <div id="layersContainer"></div>
                    </div>
                </div>

                <!-- Onglet: ParamÃ¨tres de traitement -->
                <div class="tab-pane" id="tab-process">
                    <div class="card">
                        <h2 data-i18n="titleProcess">âš™ï¸ ParamÃ¨tres de traitement</h2>
                        <div id="processSettingsContainer"></div>
                    </div>
                </div>

                <!-- Onglet: Ã‰lÃ©ments graphiques -->
                <div class="tab-pane" id="tab-elements">
                    <div class="card">
                        <h2 data-i18n="titleElements">ğŸ”² Ã‰lÃ©ments graphiques</h2>
                        <div id="displaysContainer"></div>
                    </div>
                </div>

                <!-- Onglet: Distances entre Ã©lÃ©ments -->
                <div class="tab-pane" id="tab-distances">
                    <div class="card">
                        <h2 data-i18n="titleDistances">ğŸ“ Distances entre Ã©lÃ©ments</h2>
                        <p class="distances-info" data-i18n="distancesInfo">Distances calculÃ©es entre les centres des Ã©lÃ©ments (en mm)</p>
                        <div class="distance-controls">
                            <label class="distance-filter">
                                <input type="checkbox" id="filterSameLayer" onchange="updateDistances()">
                                <span data-i18n="filterSameLayer">Afficher uniquement les Ã©lÃ©ments du mÃªme calque</span>
                            </label>
                            <label class="distance-sort">
                                <span data-i18n="sortBy">Trier par:</span>
                                <select id="distanceSort" onchange="updateDistances()">
                                    <option value="distance">Distance (croissant)</option>
                                    <option value="distance-desc">Distance (dÃ©croissant)</option>
                                    <option value="name">Nom</option>
                                </select>
                            </label>
                        </div>
                        <div id="distancesContainer"></div>
                    </div>
                </div>

                <!-- Onglet: JSON brut -->
                <div class="tab-pane" id="tab-json">
                    <div class="card">
                        <h2 data-i18n="titleJson">ğŸ“„ DonnÃ©es JSON brutes</h2>
                        <div class="json-controls">
                            <button class="btn-copy" onclick="copyJSON()" data-i18n="copyJson">ğŸ“‹ Copier le JSON</button>
                            <button class="btn-download" onclick="downloadJSON()" data-i18n="downloadJson">ğŸ’¾ TÃ©lÃ©charger</button>
                        </div>
                        <pre id="rawJson"></pre>
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <p data-i18n="footer">XCS Reader - Lecteur de fichiers xTool Creative Space (.xcs)</p>
        </footer>
    </div>

    <script src="i18n.js"></script>
    <script src="app.js"></script>
</body>
</html>
